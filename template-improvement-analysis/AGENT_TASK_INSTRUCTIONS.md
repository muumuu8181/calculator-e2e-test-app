# 🤖 **サブエージェント作業指示書**

## 📍 **作業場所**
**絶対パス**: `C:\Users\user\Desktop\work\90_cc\20250817\0000-00-00-project-template\template-improvement-analysis\`

**成果物保存先**: 同じフォルダ内に `V2_COMPREHENSIVE_CHECKLISTS.md` として保存

## 📋 **タスク概要**
v2案（軽量・プロファイル選択式）に基づく、全プロファイル対応の包括的チェックリストを作成してください。

**想定チェック項目数**: 約80-100項目（プロファイル4つ × 20-25項目）

---

## 🎯 **作業内容**

### **作成対象**
4つのプロファイル × 作業フェーズ別の詳細チェックリスト

**プロファイル**:
1. **minimal**: SPA/MPA + 最小構成
2. **ssr**: Next/Nuxt想定  
3. **edge**: Serverless/Cloudflare Workers想定
4. **lib**: ライブラリ/CLI開発想定

**作業フェーズ**:
1. **環境準備**: 初期セットアップ
2. **プロファイル適用**: 選択プロファイルの構築
3. **基本実装**: コア機能実装
4. **品質確認**: テスト・リント・動作確認
5. **拡張準備**: 将来拡張への準備

---

## 📖 **参考資料**

### **必読ドキュメント（同じフォルダ内）**
1. `PROPOSED_MODERN_STRUCTURE2.md` - v2案の詳細仕様（必須読了）
2. `V1_VS_V2_COMPARISON_RESULTS.md` - 専門家評価結果
3. `V2_PROFILE_SWITCHING_GUIDE.md` - プロファイル切り替え方法

**重要**: まず上記3ファイルをReadツールで読み込んでから作業開始してください。

### **重要な設計思想**
- **「必要になるまで作らない」**: 過剰設計の回避
- **プロファイル選択式**: 用途に応じた最適構成
- **未使用検知**: knip/ts-prune/dependency-cruiserによる品質保証
- **段階的拡張**: 最小構成から必要に応じて拡張

---

## ✅ **チェックリスト作成要件**

### **1. 形式要件**
- **マークダウン形式**で作成
- **プロファイル別**に章立て
- **チェックボックス**形式（`[ ]` と `[✓]`）
- **具体的なコマンド例**を含む

### **2. 内容要件**

#### **環境準備フェーズ**
- [ ] Node.js環境確認
- [ ] TypeScript設定
- [ ] package.json初期化
- [ ] 依存関係インストール
- [ ] profiles.json設定

#### **プロファイル適用フェーズ**
- [ ] プロファイル選択
- [ ] `npm run init:profile -- [profile]`実行
- [ ] 必要フォルダ作成確認
- [ ] 不要フォルダ非作成確認

#### **基本実装フェーズ**
- [ ] core/domain/実装
- [ ] core/usecases/実装
- [ ] shared/utils/実装
- [ ] プロファイル固有実装（app/web/、functions/等）

#### **品質確認フェーズ**
- [ ] `npm run check:unused`実行
- [ ] dependency-cruiser境界チェック
- [ ] TypeScript型チェック
- [ ] テスト実行
- [ ] E2Eテスト（該当する場合）

#### **拡張準備フェーズ**
- [ ] BFF要否判定（5つのYES/NO確認）
- [ ] 将来のプロファイル切り替え準備
- [ ] ドキュメント整備

### **3. 各プロファイル固有要件**

#### **minimal**
- [ ] app/web/index.html作成
- [ ] SPAルーティング設定
- [ ] 基本CSS/JS設定

#### **ssr**
- [ ] Next/Nuxt設定方法
- [ ] SSR固有の考慮事項
- [ ] API Routes設定

#### **edge**
- [ ] functions/handler.ts作成
- [ ] Fetch API実装
- [ ] Edge Runtime制約対応

#### **lib**
- [ ] エントリーポイント設定
- [ ] 配布用ビルド設定
- [ ] CLI実装（必要な場合）

---

## 🎯 **期待する成果物**

### **ファイル名・保存場所**
- **ファイル名**: `V2_COMPREHENSIVE_CHECKLISTS.md`
- **保存場所**: `C:\Users\user\Desktop\work\90_cc\20250817\0000-00-00-project-template\template-improvement-analysis\V2_COMPREHENSIVE_CHECKLISTS.md`

### **想定文字数・項目数**
- **総文字数**: 3,000-4,000文字
- **チェック項目数**: 80-100項目
- **各プロファイル**: 15-20項目ずつ
- **共通項目**: 20-30項目

### **必須構成（この順番で作成）**
```markdown
# v2案 包括的チェックリスト

## 1. 共通環境準備チェックリスト (15-20項目)
## 2. minimalプロファイル チェックリスト (15-20項目)
## 3. ssrプロファイル チェックリスト (15-20項目)
## 4. edgeプロファイル チェックリスト (15-20項目) 
## 5. libプロファイル チェックリスト (15-20項目)
## 6. プロファイル切り替えチェックリスト (5-10項目)
## 7. 品質管理チェックリスト (10-15項目)
## 8. トラブルシューティング (5-10項目)
```

### **各項目の要件**
- **具体的**: 実行すべきコマンドを明記
- **検証可能**: 完了状態が明確に判断できる
- **順序性**: 実行順序が論理的
- **エラー対応**: よくある問題と対処法

---

## 🚀 **作業の進め方**

### **Step 1**: 参考資料を熟読
- v2案の設計思想を理解
- プロファイル別の違いを把握

### **Step 2**: 共通部分の整理
- 全プロファイル共通の作業を特定
- 環境準備の標準手順を確立

### **Step 3**: プロファイル別特殊事項の整理
- 各プロファイル固有の作業を特定
- プロファイル間の差分を明確化

### **Step 4**: チェックリスト作成
- 実行可能な具体的手順として記述
- 検証方法を各項目に含める

### **Step 5**: 品質確認
- 漏れがないかダブルチェック
- 実際の作業フローとしての妥当性確認

---

## ⚡ **重要なポイント**

1. **実用性重視**: 「今日から使える」チェックリスト
2. **v2思想の体現**: 「必要になるまで作らない」を反映
3. **段階的拡張対応**: 後からの追加・変更を考慮
4. **エラー予防**: よくある間違いを事前に防止
5. **品質保証**: 自動検知ツールの活用を前提

---

## 📞 **完了報告**

作成完了時には以下を報告してください：
- ✅ 作成したファイル名
- ✅ 各プロファイルのチェック項目数
- ✅ 特に工夫した点
- ✅ 追加で検討が必要な事項

---
**作成日**: 2025-08-19  
**担当**: サブエージェント  
**成果物**: V2_COMPREHENSIVE_CHECKLISTS.md  
**目標**: v2案実装の完全ガイド作成